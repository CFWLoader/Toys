'use strict';

import {shape} from '../mylib/statistic-test';

/**
 * Tests of shape() function.
 */
test('shape([]) should be {}.', () => {
    expect(shape([])).toEqual(
        {}
    );
});

test('shape([1]) should be {length: 1, mean:1, sigma: 0, logMean: 0, logSigma: 0, min: 1, max: 1, mode: 1}.', () => {
    expect(shape([1])).toEqual(
        {length: 1, mean:1, sigma: 0, logMean: 0, logSigma: 0, min: 1, max: 1, mode: 1}
    );
});

test('shape(aqiData) should be {length: 912, mean:70.5241228070175, sigma: 30.66384223583148, logMean: 4.171365, logSigma: 0.407784223583148, min: 17, max: 205, mode: 17}.', () => {
    const aqiData = [68,73,133,91,81,110,60,61,77,78,74,46,22,36,60,83,67,100,88,176,163,79,87,98,92,92,87,68,71,51,51,58,73,106,68,58,116,129,88,96,124,144,147,95,85,102,64,54,67,84,51,49,42,28,35,32,36,31,36,23,46,44,18,25,17,38,90,89,40,31,26,48,76,66,53,42,48,52,51,67,82,57,29,47,34,45,60,73,52,43,42,39,39,33,49,83,64,21,34,22,34,57,89,102,136,170,88,54,56,42,55,69,71,71,121,89,110,93,99,89,37,28,66,62,37,37,31,36,39,46,37,75,61,40,34,33,42,40,41,32,33,49,44,67,99,45,46,61,64,57,43,44,34,50,55,39,63,36,44,47,36,37,49,47,31,51,54,58,84,73,55,43,28,32,28,53,69,62,68,89,86,77,86,85,78,48,50,55,50,40,39,65,101,159,155,117,91,74,52,58,46,45,44,43,43,44,38,41,46,42,41,48,86,75,85,134,172,200,104,76,60,61,62,104,49,57,62,75,51,81,115,68,77,82,95,112,110,115,139,73,65,53,54,50,45,57,75,82,66,58,125,157,136,150,75,79,63,59,64,95,110,80,48,63,55,96,72,86,60,55,69,68,88,78,52,51,30,44,68,52,49,46,38,49,88,102,131,119,101,93,82,83,75,67,70,73,80,70,65,77,84,61,67,41,33,51,70,83,84,72,73,63,56,47,67,71,39,64,64,62,60,94,85,79,72,51,45,68,55,37,57,84,95,64,85,78,44,44,50,33,40,52,53,53,52,69,90,47,43,69,48,68,101,105,115,166,162,78,44,52,54,49,72,57,70,88,105,153,99,70,48,63,62,78,82,53,48,54,64,53,57,47,60,63,68,48,38,29,48,53,72,73,77,68,48,49,32,33,57,58,42,68,53,130,82,75,56,44,36,30,30,43,48,75,82,62,79,60,39,34,49,60,60,89,85,109,116,98,94,92,98,70,70,59,30,39,55,54,47,68,59,68,88,67,60,73,80,68,42,58,87,70,92,109,120,175,129,67,64,54,62,52,50,53,54,68,59,64,93,70,58,54,50,45,77,74,73,74,85,70,59,48,62,53,72,85,54,49,47,59,42,43,53,42,38,55,110,147,110,57,68,63,68,100,59,59,42,51,85,97,109,87,33,40,52,53,52,65,75,64,62,60,120,117,49,44,42,39,44,56,45,40,53,74,36,47,58,50,52,83,103,80,51,58,48,38,39,34,32,28,30,40,49,108,89,111,63,67,50,54,48,50,43,57,45,35,35,52,95,118,160,202,86,40,87,96,113,192,89,30,39,39,103,113,107,100,84,72,77,82,75,37,33,37,25,32,48,90,90,118,155,78,197,122,57,47,119,128,131,50,53,53,59,58,58,63,67,64,48,53,60,61,66,61,45,44,49,79,65,91,102,129,164,201,179,94,70,38,48,52,40,38,50,61,54,48,35,44,62,52,46,39,42,52,50,59,33,42,48,42,65,70,50,48,69,72,85,53,37,51,38,33,43,90,166,100,101,72,43,47,53,107,107,105,114,95,105,113,103,80,68,50,38,39,45,45,58,64,82,80,87,80,85,102,97,69,92,98,110,112,102,94,100,46,44,55,94,108,113,128,119,57,65,87,83,72,37,59,64,88,107,111,123,125,115,205,124,109,90,83,103,88,50,52,53,53,59,58,68,52,40,75,62,82,85,77,75,69,117,53,43,48,32,43,59,75,55,58,68,60,42,78,65,80,106,108,109,105,116,118,80,90,77,84,43,42,47,59,87,105,84,83,105,106,89,54,55,59,77,84,73,100,102,57,69,78,82,88,85,101,78,95,92,85,49,58,93,102,88,84,63,72,95,117,89,65,93,83,65,54,55,55,45,60,100,102,78,88,85,80,67,60,51,79,97,98,84,47,106,173,139,80,54,44,79,99,113,59,55,80,201,147,68,84,148,47,52,100,130,77,75,64,75,70,54,57,62,90,156,159,90,87,52,54,85,49,39,48,52,50,59,45,110,40,52,69,50,57,73,54,68,62,59,57,44,43,44,47,46,50,52,60];

    let result = shape(aqiData);

    // console.log(aqiData.length);
    expect(result.length).toBe(912);
    expect(result.mean).toBeCloseTo(70.5241228070175);
    expect(result.sigma).toBeCloseTo(30.66384223583148);
    expect(result.logMean).toBeCloseTo(4.171365);
    expect(result.logSigma).toBeCloseTo(0.407784223583148);
    expect(result.min).toBe(17);
    expect(result.max).toBe(205);
    expect(result.mode).toBe(17);
});